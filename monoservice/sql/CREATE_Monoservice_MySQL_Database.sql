# author: 	J. Kraehemann
# created:	27.01.2019


DROP DATABASE IF EXISTS MONOSERVICE;


CREATE DATABASE MONOSERVICE DEFAULT CHARACTER SET utf8;


USE MONOSERVICE;

#----------------------------------------------------------------------------------------

DROP TABLE IF EXISTS `MEDIA_ACCOUNT`;


CREATE TABLE `MEDIA_ACCOUNT`
(
  `MEDIA_ACCOUNT_ID` INTEGER NOT NULL auto_increment,
  `VIDEO_FILE` INTEGER,
  `SESSION_STORE` INTEGER,
  PRIMARY KEY (`MEDIA_ACCOUNT_ID`),
  CONSTRAINT MEDIA_ACCOUNT_REF_VIDEO_FILE FOREIGN KEY (VIDEO_FILE) REFERENCES VIDEO_FILE (VIDEO_FILE_ID),
  CONSTRAINT MEDIA_ACCOUNT_REF_SESSION_STORE FOREIGN KEY (SESSION_STORE) REFERENCES SESSION_STORE (SESSION_STORE_ID),
)ENGINE=InnoDB DEFAULT CHARSET utf8;

#----------------------------------------------------------------------------------------

DROP TABLE IF EXISTS `VIDEO_FILE`;


CREATE TABLE `VIDEO_FILE`
(
  `VIDEO_FILE_ID` INTEGER NOT NULL auto_increment,
  `FILENAME` VARCHAR(255) NOT NULL,
  `DURATION` TIME NOT NULL,
  PRIMARY KEY (`FILE_ID`),
)ENGINE=InnoDB DEFAULT CHARSET utf8;

#----------------------------------------------------------------------------------------

DROP TABLE IF EXISTS `SESSION_STORE`;


CREATE TABLE `SESSION_STORE`
(
    `SESSION_STORE_ID` INTEGER NOT NULL auto_increment,
    `TIMESTAMP` TIMESTAMP,
    `SESSION_ID` VARCHAR(36) NOT NULL,
    `TOKEN` VARCHAR(36) NOT NULL,
    PRIMARY KEY (`SESSION_STORE_ID`),
)ENGINE=InnoDB DEFAULT CHARSET utf8;
